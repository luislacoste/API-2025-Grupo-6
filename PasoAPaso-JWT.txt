Paso a paso: JWT
===========

- dependencias
        <!-- J| for JWT handling (new version) -->
        <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt-api</artifactId>
            <version>0.11.5</version>
        </dependency>
        <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt-impl</artifactId>
            <version>0.11.5</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>io.jsonwebtoken</groupId>
            <artifactId>jjwt-jackson</artifactId>
            <version>0.11.5</version>
            <scope>runtime</scope>
        </dependency>


- copiar archivos y analizarlos
JwtFilter.java
JwtUtil.java


- agregar filtro en SecurityConfig
.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);

- application.properties
poner clave secreta y expiration


- generar token desde el proceso de autenticación en AuthenticationService.java
        Usuario user = usuarioRepository.findByEmail(request.getEmail()).orElseThrow();
        Set<String> roles = user.getAuthorities().stream()
                .map(grantedAuthority -> grantedAuthority.getAuthority())
                .collect(Collectors.toSet());

        return jwtUtil.generateToken(user.getEmail(), roles);

- probar login
se recibe el token

- llamar a endopoint con restricción de autenticación
agregar el token en authorization

